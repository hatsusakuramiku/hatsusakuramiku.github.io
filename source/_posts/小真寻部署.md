---
title: ã€zhenxun_botã€‘ å¯çˆ±çš„ç»ªå±±çœŸå¯»Botéƒ¨ç½²æ•™ç¨‹
cover: 'https://cdn.hatsusakuramiku.cn/hexo/img/gallery/post/81677882.webp'
top_img: 'https://cdn.hatsusakuramiku.cn/hexo/img/gallery/post/81677882.webp'
tag:
    - å­¦ä¹ 
category: zhenxun_bot
swiper_index: 1
description: åœ¨windowsä¸äº‘æœåŠ¡å™¨ç­‰å¹³å°éƒ¨ç½²zhenxun_botçš„ç®€å•æ•™ç¨‹
abbrlink: a6416c9d
date: 2022-09-10 17:48:00
---
{% note warning flat %}
æ³¨æ„ï¼Œæœ¬æ–‡æ­£åœ¨å®Œå–„ä¸­ï¼Œæˆ–æœ‰ä¸æ­£ç¡®çš„åœ°æ–¹ï¼ï¼ï¼
{% endnote %}

>**zhenxun_botç›¸å…³å¯¼èˆª**
>
>1. [ã€zhenxun_botã€‘å¯çˆ±çš„ç»ªå±±çœŸå¯»Botéƒ¨ç½²æ•™ç¨‹](/posts/a6416c9d.html)â‡¦å½“å‰ä½ç½®ğŸª‚

{% note info flat %}å°é¢å›¾ç‰‡PID:[81677882](https://www.pixiv.net/artworks/81677882){% endnote %}

{% note warning flat %}é˜…å‰é¡»çŸ¥ï¼šæœ¬æ•™ç¨‹ä¸æ­¤é¡¹ç›®ä»…ç”¨äºå­¦ä¹ äº¤æµï¼Œä¸å­˜åœ¨ä»»ä½•ç›ˆåˆ©ç›®çš„ï¼Œè¯·å‹¿ç”¨äºéæ³•æˆ–ç›ˆåˆ©ç”¨é€”ï¼ï¼ï¼{% endnote %}
![å°çœŸå¯»](https://cdn.hatsusakuramiku.cn/hexo/img/gallery/post/zhenxun.png "xiaozhenxun")

ç›®å‰å·²å®ç°çš„åŠŸèƒ½
![åŠŸèƒ½ä»‹ç»](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/opionts.png "opionts")
å…³äº[å°çœŸå¯»](https://zh.moegirl.org.cn/%E7%BB%AA%E5%B1%B1%E7%9C%9F%E5%AF%BB)ï¼ˆ[ç»ªå±±çœŸå¯»](https://zh.moegirl.org.cn/%E7%BB%AA%E5%B1%B1%E7%9C%9F%E5%AF%BB)ï¼‰
æ›´å¤šæ›´è¯¦ç»†çš„ä»‹ç»è¯·ç§»æ­¥:[[ä½¿ç”¨æ–‡æ¡£]](https://hibikier.github.io/zhenxun_bot/blogs/about.html)|[[é¡¹ç›®åœ°å€]](https://hibikier.github.io/zhenxun_bot/blogs/about.html)

## æ³¨æ„äº‹é¡¹

1. ä¿è¯ç³»ç»Ÿçš„ç›¸åŒï¼Œç¯å¢ƒçš„ç›¸åŒï¼Œæ˜¯å°½é‡å‡å°‘éº»çƒ¦çš„æœ€æœ‰æ•ˆçš„é€”å¾„
2. é‡åˆ°éº»çƒ¦å…ˆä¸è¦æ…Œï¼Œå…ˆçœ‹çœ‹ä½ æ˜¯ä¸æ˜¯æ¼çœ‹äº†äº¿æ­¥
3. å®åœ¨è§£å†³ä¸äº†ï¼Œå¸¦ä¸Šä½ çš„å®Œæ•´çš„æŠ¥é”™ï¼Œå’Œè‡ªå·±æ‰€åšè¿‡çš„è¡Œä¸ºå»ç¾¤é‡Œé—®é—®ã€‚QQç¾¤ï¼š[æ˜¯çœŸå¯»é…±å“’](https://jq.qq.com/?_wv=1027&k=u8PgBkMZ)

## å¿…è¦çš„å‡†å¤‡

1. ä¸€å®šçš„åŸºç¡€ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºç¨å¾®ç†Ÿæ‚‰linuxæˆ–windows cmdå‘½ä»¤è¡Œ
2. ä¸€å°è¿˜å‡‘åˆçš„{% span red, ç”µè„‘æˆ–äº‘æœåŠ¡å™¨ %}ï¼Œæ¨èéƒ¨ç½²ç³»ç»Ÿ: [Ubuntu20.04 LTS](https://cn.ubuntu.com/blog/ubuntu-20-04-lts-arrives-cn)
3. ä¸€ä¸ªå¯ä»¥ç”¨çš„è„‘å­
4. å–„äºç™¾åº¦è°·æ­Œçš„åŒæ‰‹

## ç®€è¦è¯´æ˜

{% note warning flat %}
å› ä¸ºè…¾è®¯å¯¹ç¬¬ä¸‰æ–¹QQbotçš„å°æ€ï¼Œgo-cqhttpè¿‘ä¹æ— æ³•ä½¿ç”¨ï¼Œæœ¬æ•™ç¨‹å·²å¼ƒç”¨go-cqhttpï¼Œä¸è¿‡å¯ä»¥ä½¿ç”¨å…¶ä»–æ— å¤´QQå¦‚[NapCat](https://napneko.github.io/zh-CN/),[LLOneBot](https://github.com/LLOneBot/LLOneBot)ç­‰
{% endnote %}
ä¸€ä¸ªåŸºäº{% span red, Nonebot2 %}  å’Œ {% span red, go-cqhttp %} å¼€å‘ï¼Œä»¥ {% span red, PostgreSQL %} ä½œä¸ºæ•°æ®åº“çš„å¯çˆ±Botï¼Œæ¨èåœ¨linuxéƒ¨ç½²ã€‚æœ¬æ•™ç¨‹å°†ä»‹ç»å¦‚ä½•åœ¨windows {% span red, powershell %}å‘½ä»¤è¡Œï¼Œ{% span red, WSL %}ï¼Œäº‘æœåŠ¡å™¨ï¼Œæœ¬åœ°{% span red, VMware %} æ­å»ºæœåŠ¡å™¨ç­‰ç¯å¢ƒéƒ¨ç½²{% span red, zhenxun_bot %} ã€‚

## ä¸€ã€åœ¨windows {% span red, powershell %} å‘½ä»¤è¡Œéƒ¨ç½²

{% folding blue, éƒ¨ç½²æ•™ç¨‹ %}

### 1.1 å¿…è¦ç¯å¢ƒ

è¿™ä¸€æ­¥ä¸»è¦å®‰è£…{% span red, git %}ä¸{% span red, python %}ï¼Œè¦æ±‚{% span red, python %}ç‰ˆæœ¬ä¸º{% span red, 3.8.x %}åŠä»¥ä¸Š

{% note success no-icon %}
é¦–å…ˆå›åˆ°æ¡Œé¢ï¼ŒæŒ‰ä¸‹ {% nota å¿«æ·é”® , Windowsé”®å°±æ˜¯æœ‰å¾®è½¯å¾½æ ‡çš„é”® %}{% kbd Windows %} + {% kbd R %} ,åœ¨å¼¹å‡ºçš„çª—å£ä¸­é”®å…¥\```powershell\```å¹¶æŒ‰ {% kbd ENTER %} é”®æ‰“å¼€ {% span red, powershell %} çª—å£ã€‚
ç„¶ååœ¨ {% span red, powershell %} çª—å£ä¸­ä¾æ¬¡é”®å…¥å¦‚ä¸‹å‘½ä»¤æ£€æŸ¥ç¯å¢ƒæ˜¯å¦ç¬¦åˆè¦æ±‚
{% endnote %}

```POWERSHELL
git -v # æŸ¥çœ‹gitç‰ˆæœ¬
pip -V # æŸ¥çœ‹pipç‰ˆæœ¬
```

{% note success no-icon %}
å¦‚æœå‡ºç°å¦‚ä¸‹æƒ…å†µï¼Œå°±è¡¨æ˜æ²¡æœ‰å®‰è£…{% span red, git %}ä¸{% span red, pip %}ï¼š
{% endnote %}

![fig](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/zhenxun_1.png)

{% note success no-icon %}
å¦‚æœæ˜¯ç±»ä¼¼å¦‚ä¸‹çš„æƒ…å†µå°±è¡¨ç¤ºç¯å¢ƒç¬¦åˆè¦æ±‚ï¼Œç›´æ¥è·³è¿‡æœ¬èŠ‚å³å¯ï¼š
{% endnote %}

![fig](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/zhenxun_2.png)

{% note success no-icon %}
ä¸‹é¢ä»‹ç»å¦‚ä½•å®‰è£…{% span red, git %}ä¸{% span red, pip %}
{% endnote %}

#### 1.1.1 gitå®‰è£…

{% note success no-icon %}
è®¿é—®{% span red, Git %}[ä¸‹è½½é¡µ](https://git-scm.com/download/win),{% nota é€‰æ‹©é€‚åˆè‡ªå·±ç³»ç»Ÿçš„å®‰è£…åŒ…, æˆ‘çš„ç³»ç»Ÿæ˜¯64ä½çš„ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œé€‰çš„ 64-bit Git for Windows Setup %}ã€‚
{% endnote %}

![fig](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/zhenxun_git.png)

{% note success no-icon %}
ä¸‹è½½å®Œæˆåï¼Œå¦‚æœä¸é™éº»çƒ¦å¯ä»¥è‡ªè¡Œé…ç½®å®‰è£…ï¼Œå«Œéº»çƒ¦æˆ–è€…ä¸çŸ¥é“æ€ä¹ˆæ•´ä¸€è·¯ç‚¹å‡» {% span blue, next %} å³å¯ï¼Œæœ€åç‚¹å‡» {% span blue, finish %}å³å¯å®Œæˆå®‰è£…ã€‚
{% endnote %}

#### 1.1.2 pythonå®‰è£…

{% note warning flat %}
ç‰ˆæœ¬è­¦å‘Š
çœŸå¯»Botéœ€è¦pythonç¯å¢ƒä¸º python3.8 åŠä»¥ä¸Š
{% endnote %}
{% note success no-icon %}
è®¿é—®{% span red, Python %}[ä¸‹è½½é¡µ](https://www.python.org/downloads/windows/),{% nota é€‰æ‹©é€‚åˆè‡ªå·±ç³»ç»Ÿçš„å®‰è£…åŒ…, æˆ‘çš„ç³»ç»Ÿæ˜¯64ä½çš„ï¼Œæˆ‘è¿™é‡Œé€‰çš„ 3.10.11 Windows installer (64-bit) %}ï¼Œå»ºè®®é€‰æ‹©{% span red, 3.8.x %} åŠä»¥ä¸Šç‰ˆæœ¬çš„ç¨³å®šç‰ˆå®‰è£…åŒ…ã€‚
{% endnote %}

![fig](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/zhenxun_py.png)

{% note success no-icon %}
å®‰è£…æ—¶è¯·å‹¾é€‰{% checkbox blue checked, Add python.exe to PATH %},å‹¾é€‰åå®‰è£…ç¨‹åºä¼šè‡ªåŠ¨æ·»åŠ  {% span red, python.exe %} åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œå¦‚æœä¸å‹¾é€‰å°±éœ€è¦è‡ªå·±é…ç½®ç¯å¢ƒå˜é‡ {% psw å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä¸è®¾ç½®ï¼Œåªè¦ä½ ä¸ä»‹æ„æ¯æ¬¡è°ƒç”¨pythonåŠç›¸å…³åŒ…æ—¶æ·»åŠ ä¸€å¤§ä¸²è·¯å¾„å°±è¡Œ %} ï¼›ç„¶åé€‰æ‹©{% span blue, Install Now  %}ï¼Œç­‰å¾…å®Œæˆå®‰è£…å³å¯ã€‚
{% endnote %}

![fig](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/zhenxun_py_0.png)

{% note success no-icon %}
å®‰è£…å®Œæˆåï¼Œè°ƒå‡º {% span red, powershell %} çª—å£ï¼Œé”®å…¥å¦‚ä¸‹å‘½ä»¤æ£€æŸ¥ç¯å¢ƒ
{% endnote %}

```POWERSHELL
git -v # æŸ¥çœ‹gitç‰ˆæœ¬
pip -V # æŸ¥çœ‹pipç‰ˆæœ¬
```

{% note success no-icon %}
å¦‚æœæ˜¯ç±»ä¼¼å¦‚ä¸‹çš„æƒ…å†µå°±è¡¨ç¤ºç¯å¢ƒç¬¦åˆè¦æ±‚
{% endnote %}

![fig](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/zhenxun_2.png)

### 1.2 å¿…éœ€ç»„ä»¶å®‰è£…

{% note info flat %}
ä¸ºæ–¹ä¾¿åç»­éƒ¨ç½²ä¸ç®¡ç†ï¼Œæˆ‘å»ºè®®å…ˆæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ä¸“é—¨ç”¨äºå­˜å‚¨  æ–‡ä»¶ï¼Œæœ¬æ•™ç¨‹ä½œä¸ºæ¼”ç¤ºå°†åœ¨æ¡Œé¢æ–°å»ºä¸€ä¸ªåä¸º{% span red, bot %}çš„æ–‡ä»¶å¤¹ï¼Œå…¶åœ¨æˆ‘ç”µè„‘çš„ç»å¯¹è·¯å¾„ä¸º{% span red, [C:\Users\Administrator\Desktop\bot\\] %}ï¼Œæˆ‘å°†å…¶ä½œä¸ºéƒ¨ç½²{% span red, bot %}çš„{% span red, æ ¹ç›®å½• %}ï¼Œåœ¨åæ–‡ä¸­å‡¡æ¶‰åŠåˆ°è¯¥ç›®å½•å‡ä»¥{% span red, **[~\\]** %}ä»£æ›¿ã€‚
{% endnote %}

#### 1.2.1 æ— å¤´QQå®‰è£…

æ­¤å¤„æä¾›ä¸‰ç§ä¸åŒçš„æ— å¤´QQçš„å®‰è£…ï¼Œè¯·ä¾éœ€æ±‚é€‰æ‹©ã€‚

{% tabs, -1%}

<!-- tab go-cqhttp -->
|ä¼˜ç‚¹|ç¼ºç‚¹|
|-----|-----|
|å®‰è£…é…ç½®ç®€å•ï¼ŒåŸºäºåè®®å®ç°ä¸éœ€è¦é¢å¤–å®‰è£…QQå®¢æˆ·ç«¯ï¼Œå ç”¨èµ„æºå°‘ï¼Œèƒ½ä½¿ç”¨ä¸Šæ–‡åˆ—å‡ºçš„å…¨éƒ¨åŠŸèƒ½|ç°åœ¨é£æ§ä¸¥é‡ï¼Œå‡ ä¹ä¸èƒ½ä½¿ç”¨ï¼Œå¯èƒ½éœ€è¦é…ç½®ç­¾åæœåŠ¡å™¨|

{% note warning flat %}
æœ€å°å»ºè®®å†…å­˜å¹¶ä¸æ˜¯å¿…é¡»çš„ï¼Œä¸è¿‡å½“å†…å­˜å°äºæœ€å°å†…å­˜æ—¶ï¼Œè¾ƒé•¿æ—¶é—´è¿è¡Œbotå¯èƒ½ä¼šçˆ†å†…å­˜å¯¼è‡´botè¿›ç¨‹è¢«killï¼
{% endnote %}
æœ€å°å»ºè®®å†…å­˜:{% span red, 1GB %}
{% note success no-icon %}
go-cqhttp æ˜¯ä½¿ç”¨OneBotåè®®å®ç°çš„æ— å¤´QQï¼Œæ¥å—æ¶ˆæ¯åå‘å¾€åç«¯å¤„ç†ã€‚
è¿™é‡Œä»‹ç»ä¸¤ç§å®‰è£…æ–¹å¼ï¼Œè‡ªè¡Œå†³å®šå¦‚ä½•å®‰è£…ã€‚
{% endnote %}

{% tabs, -1 %}

<!-- tab æ™®é€šå®‰è£… -->

{% note success no-icon %}
æ™®é€šå®‰è£…ä½¿ç”¨windowsçš„.exeæ–‡ä»¶ï¼Œè¯·ä»[Mrs4s / go-cqhttp](https://github.com/Mrs4s/go-cqhttp)çš„[Release](https://github.com/Mrs4s/go-cqhttp/releases)ä¸­ä¸‹è½½ä¸ä½ ç³»ç»Ÿå¯¹åº”çš„æœ€æ–°ç‰ˆæœ¬ã€‚
å¦‚æœä½ ä¸çŸ¥é“è‡ªå·±è¯¥ä¸‹å“ªä¸€ä¸ª: ä¸€èˆ¬ä¸‹è½½ {% span red, go-cqhttp_windows_amd64.exe %}å³å¯ã€‚
ä¸‹è½½å®Œæˆåï¼Œå°†{% nota go-cqhttp.exe, ä¸ºæ–¹ä¾¿å™è¿°ï¼Œåç»­ go-cqhttp_windows_amd64.exe ç­‰å‡é‡å‘½åä¸º go-cqhttp %} ç§»åŠ¨åˆ°{% span red, [~\go-cqhttp\\] %}ç›®å½•{% psw æ²¡æœ‰è¯¥ç›®å½•å°±æ–°å»ºä¸ª %}ã€‚
ç„¶åè°ƒå‡º {% span red, cmd %} çª—å£ï¼Œä½¿ç”¨{% span red, cd %}å‘½ä»¤è¿›å…¥{% span red, [~\go-cqhttp\\] %}ç›®å½•
{% endnote %}

```CMD
cd ~\go-cqhttp\ # æ­¤å¤„ ~ åº”æ¢æˆä½ ç”µè„‘çš„botæ–‡ä»¶å¤¹ç›®å½•
```

{% note success no-icon %}
è¿›å…¥ç›®å½•åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯åŠ¨{% span red, go-cqhttp %},ç„¶åé€‰æ‹©3Â (åå‘ Websocket é€šä¿¡) ï¼Œ
åˆæ¬¡å¯åŠ¨ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆé…ç½®æ–‡ä»¶{% span red, config.yml %}ã€‚
{% endnote %}

```CMD
go-cqhttp.exe # è¿è¡Œå½“å‰ç›®å½•ä¸‹çš„"go-cqhttp.exe"ï¼Œåç¼€å¯çœç•¥
```

[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)

{% note success no-icon %}
åœ¨æ­¤ç•Œé¢æŒ‰å¿«æ·é”®{% kbd CTRL %} + {% kbd C %}å¯ç»ˆæ­¢{% span red, go-cqhttp %}ã€‚
ç„¶åæ‰“å¼€é…ç½®æ–‡ä»¶{% span red, config.yml %}è¿›è¡Œç¼–è¾‘ï¼Œå°†
{% span red, **universal: ws://your_websocket_universal.server** %}
ä¿®æ”¹ä¸º
{% span red, **universal: ws://127.0.0.1:8080/onebot/v11/ws/** %} {% psw æ­¤å¤„çš„ç«¯å£åº”ä¸botçš„ç›‘å¬ç«¯å£ä¸€è‡´ %}
å°†{% span red, uin %}æ”¹ä¸ºä½ çš„æƒ³è¦ç™»é™†çš„{% nota QQè´¦å·, ä¸ªäººååˆ†ä¸å»ºè®®ç”¨ä¸»åŠ›è´¦å·ä¸æ–°åˆ›å°å· %}ï¼Œåœ¨{% span red, password %}å¡«å…¥å¯¹åº”{% nota å¯†ç , ä¸ªäººè®¤ä¸ºæ‰«ç ç™»é™†å¤±è´¥ç‡è¿‡é«˜ï¼Œä¸å»ºè®®ä½¿ç”¨ %}ã€‚
{% endnote %}

[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)
[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)

{% note success no-icon %}
é…ç½®å®Œæˆåå°±å¯ä»¥å†æ¬¡å¯åŠ¨{% span red, go-cqhttp %}äº†ï¼Œå¦‚æœæ²¡é—®é¢˜çš„è¯ä½ åº”è¯¥èƒ½çœ‹åˆ°å¦‚ä¸‹ç”»é¢ï¼š
åœ¨è¿™é‡Œæˆ‘ä»¬é€‰æ‹©**1.è‡ªåŠ¨æäº¤**
{% endnote %}

[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)

{% note success no-icon %}
ç„¶åä½ ä¼šçœ‹åˆ°ä¸€ä¸ªé“¾æ¥ï¼Œå¤åˆ¶åˆ°æµè§ˆå™¨é‡Œé¢æ‰“å¼€å°±è¡Œï¼ŒéªŒè¯å®Œä»¥åï¼Œå¦‚æœä½ è¿æ°”å¥½åº”è¯¥å°±èƒ½çœ‹åˆ°å¦‚ä¸‹ç”»é¢ï¼š
{% endnote %}

[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)

{% note success no-icon %}
æŒ‰ç…§æç¤ºè¿›è¡ŒéªŒè¯åå¤§æ¦‚ç‡å°±æ˜¯å¯ä»¥ç™»é™†æˆåŠŸäº†ï¼Œå¦‚æœå‡ºç°äº†ä¸€å¤§ä¸²{% span yellow, WARNING  %}ï¼Œè¿™æ˜¯{% span red, bot %}è¿˜æ²¡æœ‰å¯åŠ¨çš„ç¼˜æ•…ï¼Œä¸å¿…ç®¡å®ƒã€‚ç„¶åæŠŠè¿™ä¸ªçª—å£æåœ¨ä¸€è¾¹ï¼Œ**ä¸è¦å…³é—­ï¼Œå…³é—­åbotå°†ä¸èƒ½æ­£å¸¸å¯åŠ¨ï¼**ã€‚ç„¶åå°±å¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥ffmpegå®‰è£…äº†ã€‚
{% endnote %}
{% note danger no-icon %}
å¦‚æœå‡ºç°å¦‚ä¸‹æŠ¥é”™æç¤ºï¼Œé‚£ä¹ˆä½ å¯èƒ½éœ€è¦é…ç½®{% span red, config.yml %}ä¸­çš„{% span blue, sign-server %}ç­¾åæœåŠ¡å™¨åå†æ¬¡å¯åŠ¨ã€‚
è‹¥æ— ç­¾åæœåŠ¡å™¨ï¼Œè¯·è‡ªè¡Œå¯»æ‰¾æ•™ç¨‹é…ç½®ï¼Œæœ¬æ–‡ä¸å†å™è¿°ã€‚
{% endnote %}

[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)

<!-- endtab -->

<!-- tab å‘½ä»¤è¡Œå®‰è£… -->

{% note info flat %}
å°tipsï¼š åœ¨å‘½ä»¤è¡Œä½¿ç”¨{% span blue, dir %}å‘½ä»¤å¯å¿«é€ŸæŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶æƒ…å†µ
{% endnote %}

{% note success no-icon %}
é¦–å…ˆå»[Mrs4s / go-cqhttp](https://github.com/Mrs4s/go-cqhttp)çš„[Release](https://github.com/Mrs4s/go-cqhttp/releases)ä¸­å¯»æ‰¾ä¸ä½ ç³»ç»Ÿå¯¹åº”çš„æœ€æ–°ç‰ˆæœ¬çš„ä¸‹è½½é“¾æ¥å¹¶å¤åˆ¶ï¼›
ç„¶åç„¶åè°ƒå‡º {% span red, powershell %} çª—å£ï¼Œä½¿ç”¨{% span red, cd %}å‘½ä»¤è¿›å…¥{% span red, [~\\] %}ç›®å½•
{% endnote %}

```POWERSHELL
cd ~\go-cqhttp\ # æ­¤å¤„ ~ åº”æ¢æˆä½ ç”µè„‘çš„botæ–‡ä»¶å¤¹ç›®å½•
```

{% note success no-icon %}
ç„¶åä»¥ä½¿ç”¨{% span red, Invoke-WebRequest/iwr %},{% span red, bitsadmin %}ç­‰å·¥å…·ä¸‹è½½ï¼Œè§£å‹å¯ç”¨{% span red, Expand-Archive %}ã€‚
æ•™ç¨‹æ¼”ç¤ºç”µè„‘ç³»ç»Ÿ{% span red, windows 11 x64 %}ï¼Œæ•…ä»¥{% span red, go-cqhttp_windows_amd64 %}ç‰ˆçš„å‘è¡Œç‰ˆé“¾æ¥ä½œä¸ºæ¼”ç¤ºã€‚
å‹ç¼©åŒ…ä¸å¯æ‰§è¡Œæ–‡ä»¶ä»»é€‰ä¸€ä¸ªä¸‹è½½å°±è¡Œ
{% endnote %}

```POWERSHELL
# æ­¤å¤„ä»…æä¾›å‡ æ¡å‚è€ƒå‘½ä»¤ï¼Œå…·ä½“å‚æ•°é‡Šä¹‰è¯·è‡ªè¡Œç™¾åº¦/google 

# Invoke-WebRequest/iwr
Invoke-WebRequest -Uri https://github.com/MNTMDEV/bilidown_lite/releases/download/4.2.2/bili_down_chrome.crx -OutFile "go-bilidown.crx" # 
Invoke-WebRequest -Uri https://github.com/Mrs4s/go-cqhttp/releases/download/v1.1.0/go-cqhttp_windows_amd64.zip -OutFile "go-cqhttp.zip" # 

# iwræ˜¯Invoke-WebRequestçš„ç¼©å†™ï¼Œæ˜¯ä¸€æ ·çš„
iwr -Uri https://github.com/Mrs4s/go-cqhttp/releases/download/v1.1.0/go-cqhttp_windows_amd64.exe -OutFile "go-cqhttp.exe"
iwr -Uri https://github.com/Mrs4s/go-cqhttp/releases/download/v1.1.0/go-cqhttp_windows_amd64.zip -OutFile "go-cqhttp.zip"

# bitsadmin
bitsadmin /transfer myDownloadJob /download /priority normal https://github.com/Mrs4s/go-cqhttp/releases/download/v1.1.0/go-cqhttp_windows_amd64.exe [~]\go-cqhttp.exe # æ­¤å¤„çš„[~]åº”æ¢æˆä½ ç”µè„‘çš„botæ–‡ä»¶å¤¹ç›®å½•
bitsadmin /transfer myDownloadJob /download /priority normal https://github.com/Mrs4s/go-cqhttp/releases/download/v1.1.0/go-cqhttp_windows_amd64.zip [~]\go-cqhttp.zip # æ­¤å¤„çš„[~]åº”æ¢æˆä½ ç”µè„‘çš„botæ–‡ä»¶å¤¹ç›®å½•

```

{% note success no-icon %}
åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹{% span red, go-cqhttp %}ï¼Œå°†ä¸‹è½½å¥½çš„å¯æ‰§è¡Œæ–‡ä»¶æˆ–å‹ç¼©åŒ…ç§»å…¥æˆ–è§£å‹åˆ°æ–‡ä»¶å¤¹{% span red, go-cqhttp %}ä¸­ï¼š
{% endnote %}

```POWERSHELL
New-Item -ItemType Directory -Path .\go-cqhttp # åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºåä¸ºgo-cqhttpçš„å­æ–‡ä»¶å¤¹
move go-cqhttp.exe .\go-cqhttp\ # å°†å½“å‰ç›®å½•ä¸‹çš„go-cqhttp.exeç§»åŠ¨åˆ°å½“å‰ç›®å½•ä¸‹çš„å­æ–‡ä»¶å¤¹go-cqhttpä¸­

# å¦‚æœä¸‹è½½çš„å¯æ‰§è¡Œæ–‡ä»¶ä¸ç”¨æ‰§è¡Œè¿™ä¸€æ­¥
Expand-Archive -Path ".\go-cqhttp.zip" -DestinationPath ".\go-cqhttp" # è§£å‹å½“å‰ç›®å½•ä¸‹çš„go-cqhttp.zipåˆ°å½“å‰ç›®å½•ä¸‹çš„å­æ–‡ä»¶å¤¹go-cqhttp
```

{% note success no-icon %}
ç„¶åä½¿ç”¨ä½¿ç”¨{% span red, cd %}å‘½ä»¤è¿›å…¥{% span red, [~\go-cqhttp\] %}ç›®å½•
{% endnote %}

```POWERSHELL
cd .\go-cqhttp # è¿›å…¥å½“å‰ç›®å½•ä¸‹çš„å­æ–‡ä»¶å¤¹go-cqhttp
```

{% note success no-icon %}
è¿›å…¥ç›®å½•åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯åŠ¨{% span red, go-cqhttp %},ç„¶åé€‰æ‹©3Â (åå‘ Websocket é€šä¿¡) ï¼Œ
åˆæ¬¡å¯åŠ¨ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆé…ç½®æ–‡ä»¶{% span red, config.yml %}ã€‚
{% endnote %}

```POWERSHELL
\.go-cqhttp.exe # è¿è¡Œå½“å‰ç›®å½•ä¸‹çš„"go-cqhttp.exe"ï¼Œåç¼€å¯çœç•¥
```

[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)

{% note success no-icon %}
åœ¨æ­¤ç•Œé¢æŒ‰å¿«æ·é”®{% kbd CTRL %} + {% kbd C %}å¯ç»ˆæ­¢{% span red, go-cqhttp %}ã€‚
ç„¶åæ‰“å¼€é…ç½®æ–‡ä»¶{% span red, config.yml %}è¿›è¡Œç¼–è¾‘ï¼Œå°†
{% span red, **universal: ws://your_websocket_universal.server** %}
ä¿®æ”¹ä¸º
{% span red, **universal: ws://127.0.0.1:8080/onebot/v11/ws/** %} {% psw æ­¤å¤„çš„ç«¯å£åº”ä¸botçš„ç›‘å¬ç«¯å£ä¸€è‡´ %}
å°†{% span red, uin %}æ”¹ä¸ºä½ çš„æƒ³è¦ç™»é™†çš„{% nota QQè´¦å·, ä¸ªäººååˆ†ä¸å»ºè®®ç”¨ä¸»åŠ›è´¦å·ä¸æ–°åˆ›å°å· %}ï¼Œåœ¨{% span red, password %}å¡«å…¥å¯¹åº”{% nota å¯†ç , ä¸ªäººè®¤ä¸ºæ‰«ç ç™»é™†å¤±è´¥ç‡è¿‡é«˜ï¼Œä¸å»ºè®®ä½¿ç”¨ %}ã€‚
{% endnote %}

[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)
[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)

{% note success no-icon %}
é…ç½®å®Œæˆåå°±å¯ä»¥å†æ¬¡å¯åŠ¨{% span red, go-cqhttp %}äº†ï¼Œå¦‚æœæ²¡é—®é¢˜çš„è¯ä½ åº”è¯¥èƒ½çœ‹åˆ°å¦‚ä¸‹ç”»é¢ï¼š
åœ¨è¿™é‡Œæˆ‘ä»¬é€‰æ‹©**1.è‡ªåŠ¨æäº¤**
{% endnote %}

[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)

{% note success no-icon %}
ç„¶åä½ ä¼šçœ‹åˆ°ä¸€ä¸ªé“¾æ¥ï¼Œå¤åˆ¶åˆ°æµè§ˆå™¨é‡Œé¢æ‰“å¼€å°±è¡Œï¼ŒéªŒè¯å®Œä»¥åï¼Œå¦‚æœä½ è¿æ°”å¥½åº”è¯¥å°±èƒ½çœ‹åˆ°å¦‚ä¸‹ç”»é¢ï¼š
{% endnote %}

[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)

{% note success no-icon %}
æŒ‰ç…§æç¤ºè¿›è¡ŒéªŒè¯åå¤§æ¦‚ç‡å°±æ˜¯å¯ä»¥ç™»é™†æˆåŠŸäº†ï¼Œå¦‚æœå‡ºç°äº†ä¸€å¤§ä¸²{% span yellow, WARNING  %}ï¼Œè¿™æ˜¯{% span red, bot %}è¿˜æ²¡æœ‰å¯åŠ¨çš„ç¼˜æ•…ï¼Œä¸å¿…ç®¡å®ƒã€‚ç„¶åæŠŠè¿™ä¸ªçª—å£æåœ¨ä¸€è¾¹ï¼Œ**ä¸è¦å…³é—­ï¼Œå…³é—­åbotå°†ä¸èƒ½æ­£å¸¸å¯åŠ¨ï¼**ã€‚ç„¶åå°±å¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥ffmpegå®‰è£…äº†ã€‚
{% endnote %}
{% note danger no-icon %}
å¦‚æœå‡ºç°å¦‚ä¸‹æŠ¥é”™æç¤ºï¼Œé‚£ä¹ˆä½ å¯èƒ½éœ€è¦é…ç½®{% span red, config.yml %}ä¸­çš„{% span blue, sign-server %}ç­¾åæœåŠ¡å™¨åå†æ¬¡å¯åŠ¨ã€‚
{% endnote %}

[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)

<!-- endtab -->

{% endtabs %}
<!-- endtab -->
<!-- tab napcat -->
|ä¼˜ç‚¹|ç¼ºç‚¹|
|-----|-----|
|è½»é‡ï¼Œèµ„æºå ç”¨å°‘ï¼Œä¸éœ€è¦å›¾å½¢ç•Œé¢|éœ€è¦é¢å¤–å®‰è£…QQå®¢æˆ·ç«¯ï¼Œéƒ¨åˆ†åŠŸèƒ½å¦‚â€œæˆ³ä¸€æˆ³â€æ— æ³•ä½¿ç”¨ï¼›NapCat åœ¨çº¿æ—¶ï¼Œä½ ä¸èƒ½ä½¿ç”¨ PC QQ å®¢æˆ·ç«¯å®ç°äººæœºåˆä¸€ï¼Œä½†æ˜¯å¯ä»¥é€‰æ‹©åŒæ­¥ç™»å½•ç§»åŠ¨å®¢æˆ·ç«¯ï¼›NapCat ä¸åŒäºåè®®å®ç°ï¼Œæ˜¯åŸºäº QQ å®¢æˆ·ç«¯ï¼ŒQQ å®¢æˆ·ç«¯ä¸Šå¹²ä¸äº†çš„äº‹ï¼ŒNapCat >_< å½“ç„¶ä¹Ÿæ˜¯ä¸è¡Œçš„!|

{% note warning flat %}
æœ€å°å»ºè®®å†…å­˜å¹¶ä¸æ˜¯å¿…é¡»çš„ï¼Œä¸è¿‡å½“å†…å­˜å°äºæœ€å°å†…å­˜æ—¶ï¼Œè¾ƒé•¿æ—¶é—´è¿è¡Œbotå¯èƒ½ä¼šçˆ†å†…å­˜å¯¼è‡´botè¿›ç¨‹è¢«killï¼
{% endnote %}
æœ€å°å»ºè®®å†…å­˜:{% span red, 2GB %}
<!-- endtab -->
<!-- tab llonebot -->
|ä¼˜ç‚¹|ç¼ºç‚¹|
|-----|-----|
|ä½ å¯ä»¥ä½¿ç”¨ PC QQ å®¢æˆ·ç«¯å®ç°äººæœºåˆä¸€ï¼›æœ‰GUI|éœ€è¦é¢å¤–å®‰è£…QQå®¢æˆ·ç«¯ï¼Œéƒ¨åˆ†åŠŸèƒ½å¦‚â€œæˆ³ä¸€æˆ³â€æ— æ³•ä½¿ç”¨ï¼›è¦æ±‚è¦æœ‰å›¾å½¢ç•Œé¢|

{% note warning flat %}
æœ€å°å»ºè®®å†…å­˜å¹¶ä¸æ˜¯å¿…é¡»çš„ï¼Œä¸è¿‡å½“å†…å­˜å°äºæœ€å°å†…å­˜æ—¶ï¼Œè¾ƒé•¿æ—¶é—´è¿è¡Œbotå¯èƒ½ä¼šçˆ†å†…å­˜å¯¼è‡´botè¿›ç¨‹è¢«killï¼
{% endnote %}
æœ€å°å»ºè®®å†…å­˜:{% span red, 4GB %}
<!-- endtab -->
{% endtabs %}

### 2.2 ffmpegå®‰è£…

{% note success no-icon %}
å› ä¸º{% span red, bot %}éœ€è¦å‘é€è¯­éŸ³æ–‡ä»¶ç­‰ï¼Œéœ€è¦å®‰è£…ffmpegã€‚
è¿™é‡Œä»‹ç»ä¸¤ç§å®‰è£…æ–¹å¼ï¼Œè‡ªè¡Œå†³å®šå¦‚ä½•å®‰è£…ã€‚
{% endnote %}

{% tabs, -1 %}

<!-- tab æ™®é€šå®‰è£… -->

{% note success no-icon %}
å»[FFmpegç½‘ç«™](https://www.gyan.dev/ffmpeg/builds/)è‡ªè¡Œä¸‹è½½åˆé€‚çš„å‹ç¼©åŒ…ã€‚
ä¸‹è½½è§£å‹ä¹‹åä¸º{% span red, ffmpeg %}æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ã€‚
æ·»åŠ å®Œæˆååœ¨{% span red, powershell %}çª—å£é”®å…¥{% span red, ffmpeg %}æ£€æŸ¥æ˜¯å¦å®Œæˆå®‰è£…ï¼Œ
å¦‚æœå‡ºç°{% span red, ffmpeg %}çš„ç‰ˆæœ¬å·å°±è¡¨ç¤ºå®‰è£…å®Œæˆäº†
{% endnote %}

<!-- endtab -->

<!-- tab å‘½ä»¤è¡Œå®‰è£… -->

{% note success no-icon %}
åœ¨ PowerShell ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ `choco` åŒ…ç®¡ç†å™¨æ¥å®‰è£… FFmpegã€‚`choco` æ˜¯ä¸€ä¸ª Windows åŒ…ç®¡ç†å·¥å…·ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®‰è£…å„ç§è½¯ä»¶åŒ…ã€‚
é¦–å…ˆåœ¨ç¡®ä¿å·²å®‰è£… Chocolateyï¼ˆ`choco`ï¼‰{% span red, powershell %}çª—å£é”®å…¥{% span red, choco %}æ£€æŸ¥æ˜¯å¦å®Œæˆå®‰è£…ã€‚å¦‚æœå°šæœªå®‰è£…ï¼Œè¯·åœ¨ PowerShell ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… Chocolateyï¼š
{% endnote %}

```POWERSHELL
Set-ExecutionPolicy Bypass -Scope Process -Force; iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))
```

{% note success no-icon %}
åœ¨ PowerShell ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… FFmpegï¼š
{% endnote %}

```POWERSHELL
choco install ffmpeg
```

{% note success no-icon %}
æ·»åŠ å®Œæˆååœ¨{% span red, powershell %}çª—å£é”®å…¥{% span red, ffmpeg %}æ£€æŸ¥æ˜¯å¦å®Œæˆå®‰è£…ï¼Œ
å¦‚æœå‡ºç°{% span red, ffmpeg %}çš„ç‰ˆæœ¬å·å°±è¡¨ç¤ºå®‰è£…å®Œæˆäº†ã€‚
{% endnote %}

<!-- endtab -->

{% endtabs %}

### 2.3 PostgreSQLå®‰è£…

{% note success no-icon %}
ä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“ï¼Œå ç”¨æ¯”mysqlå°å°å°å°å¤šäº†...
ç›®å‰æ¥çœ‹postgresqlç‰ˆæœ¬ä¼¼ä¹å¯¹çœŸå¯»æ²¡æœ‰å¤ªå¤§å½±å“ï¼ˆæŒ‡9.0ä»¥ä¸Šï¼‰ï¼Œä¸ä¼šå½±å“æ­£å¸¸ä½¿ç”¨ã€‚
ç‚¹å‡»[è¿™é‡Œ](https://get.enterprisedb.com/postgresql/postgresql-15.1-1-windows-x64.exe)å°†ä¸‹è½½Postgresql-15.1-1ç‰ˆæœ¬å®‰è£…åŒ…ã€‚
ä»¥ä¸‹æ˜¯å®‰è£…è¿‡ç¨‹ï¼š
{% endnote %}

{% folding blue, å®‰è£…ä¸é…ç½®è¿‡ç¨‹ %}

1. åŒå‡»å®‰è£…ç¨‹åºï¼Œç‚¹å‡»Next
[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)
2. é€‰æ‹©å®‰è£…è·¯å¾„ï¼ˆæ²¡æœ‰ç‰¹æ®Šæƒ…å†µä¸€èˆ¬é»˜è®¤å³å¯ï¼‰ï¼Œç»§ç»­Next
{% note warring flat %}å®‰è£…è·¯å¾„è¯·ä¸è¦å‡ºç°ä¸­æ–‡ï¼{% endnote %}
[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)
3. å»æ‰Stack Builderå³å¯ï¼Œä¸å½±å“ä½¿ç”¨ï¼ŒNext
[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)
4. æ•°æ®å­˜å‚¨è·¯å¾„ï¼ˆæ²¡æœ‰ç‰¹æ®Šæƒ…å†µä¸€èˆ¬é»˜è®¤å³å¯ï¼‰ï¼ŒNext
[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)
5. è¾“å…¥postgresç”¨æˆ·çš„å¯†ç ï¼Œä¾‹å¦‚: zhenxun
{% note warring flat %}ä¸ºé¿å…åç»­åº”å¯†ç é“¾æ¥æ•°æ®åº“å‡ºç°é—®é¢˜ï¼Œæœ¬æ•™ç¨‹å‡¡æ¶‰åŠåˆ°å¯†ç å‡ä½¿ç”¨**zhenxun**{% endnote %}
[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)
6. é»˜è®¤ç«¯å£ï¼ŒNext
[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)
7. æ¥ä¸‹æ¥ä¸€è·¯Nextç›´åˆ°è¿›å…¥å®‰è£…
[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)
8. âœ¨âœ¨ å®‰è£…å®Œæˆ âœ¨âœ¨
[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)
{% note success no-icon %}
é…ç½®è¿æ¥
{% endnote %}
9. æ‰¾åˆ°å®‰è£…çš„pgAdminï¼Œç›´æ¥å¯åŠ¨ï¼
[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)
{% note success no-icon %}
æ˜¯è‹±æ–‡ç•Œé¢ï¼Ÿåˆ«æ€¥ï¼Œå·²[ç™¾åº¦](https://www.baidu.com/baidu?tn=monline_3_dg&ie=utf-8&wd=pgadmin4%E8%AE%BE%E7%BD%AE%E4%B8%AD%E6%96%87)
{% endnote %}
10. å·¦ä¾§æ å³é”®ç‚¹å‡»Serversåé€‰æ‹©Registerï¼Œåœ¨ç‚¹å‡»æœåŠ¡å™¨
[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)
11. {% del éšä¾¿ %} èµ·ä¸€ä¸ªå“äº®çš„åå­—
[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)
12. å¡«å†™ä¸»æœºåç§°/åœ°å€ï¼Œå¦‚æœæ˜¯è¿æ¥è¿œç¨‹æœåŠ¡å™¨çš„è¯å¯¹åº”çš„æœåŠ¡å™¨IPï¼Œæœ¬åœ°çš„è¯å¯ä»¥ç›´æ¥å¡«å†™127.0.0.1
ç«¯å£å°±æ˜¯å®‰è£…æ—¶é…ç½®çš„ç«¯å£ï¼Œæ²¡æœ‰ä¿®æ”¹çš„è¯é»˜è®¤5432
å¯†ç å°±æ˜¯å®‰è£…æ—¶é…ç½®çš„å¯†ç 
[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)
13. âœ¨âœ¨ ç‚¹å‡»ä¿å­˜ âœ¨âœ¨
å·¦ä¾§æ ä¼šå‡ºç°ä¸€å¤´ğŸ˜
[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)
14. å±•å¼€ğŸ˜ğŸ˜
å³å‡»æ•°æ®åº“ï¼Œé€‰æ‹©åˆ›å»ºåç‚¹å‡»æ•°æ®åº“
[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)
15. âœ¨âœ¨ ç›´æ¥åˆ›å»ºï¼ âœ¨âœ¨
è®¾ç½®æ•°æ®åº“åç§°åç‚¹å‡»ä¿å­˜
[](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/)
{% note success no-icon %}
âœ¨âœ¨ å—¨å‘€ï¼Œç»ˆäºå®ŒæˆPostgresqlçš„æ•°æ®åº“é…ç½®äº†ï¼Œå¥½ç´¯å‘€ï¼Œç«é€Ÿä¸‹ä¸€æ­¥ï¼Œå®‰è£…çœŸå¯»æ âœ¨âœ¨
{% endnote %}
{% endfolding %}

## 3 çœŸå¯»æœ¬ä½“ä¸ä¾èµ–å®‰è£…

## 3.1 ä½¿ç”¨gitå‘½ä»¤ä¸‹è½½çœŸå¯»æºç 

git cloneçœŸå¯»æºç ï¼Œå³ä¸‹è½½çœŸå¯»æºç ï¼š

```SHELL
git clone https://ghproxy.com/github.com/HibiKier/zhenxun_bot.git
```

## 3.2 ä¿®æ”¹ç›¸å…³é…ç½®

ä¿®æ”¹botç®¡ç†å‘˜è´¦å·ï¼Œå°†ä½ è‡ªå·±çš„qqè´¦å·æ”¹æˆä½ å¸Œæœ›ç”¨æ¥ç®¡ç†ä½ botçš„qqï¼š

```SHELL
cd ~/zhenxun_bot && sed -i 's/SUPERUSERS.*/SUPERUSERS=["ä½ è‡ªå·±çš„qqè´¦å·"]/g' .env.dev
```

ä¿®æ”¹æ•°æ®åº“è¿æ¥å‘½ä»¤ï¼Œå¦‚æœä½ æ²¡å¯¹ä¸Šé¢æ•°æ®åº“çš„åˆ›å»ºå‘½ä»¤ä½œå‡ºä¿®æ”¹ç›´æ¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```SHELL
sed -i 's|bind.*|bind: str = "postgresql://zhenxun:zhenxun@localhost:5432/zhenxun"|g' configs/config.py
```

## 3.3 è™šæ‹Ÿç¯å¢ƒçš„é…ç½®

æœ‰å¾ˆå¤šäººçš„é—®é¢˜éƒ½æ˜¯å‡ºåœ¨äº†è¿™é‡Œï¼Œzhenxun_botå¿…é¡»åœ¨poetryä¸­è¿è¡Œï¼Œè¿™æ˜¯ä¸å¯ç¼ºå°‘çš„ä¸€ç¯

é¦–å…ˆï¼Œä½ å¾—è¿›å…¥è™šæ‹Ÿç¯å¢ƒï¼š

```BASH
cd ~/zhenxun_bot && poetry shell
```

ä¹‹åä¾¿æ˜¯çœŸå¯»çš„{% bubble ç›¸å…³ä¾èµ–çš„å®‰è£… , "å»ºè®®ä¹‹åæ·»åŠ æ’ä»¶å®‰è£…ç›¸å…³ä¾èµ–æ—¶å‡åœ¨è™šæ‹Ÿç¯å¢ƒå®‰è£…" ,"#66ccff" %}ï¼Œä½¿ç”¨å‘½ä»¤ï¼š

```CMAKE
poetry install
```

å¦‚æœæ˜¯å›½å†…æœºå™¨ï¼Œä¸æ›´æ¢pipçš„æºçš„è¯ä¼šæ„Ÿè§‰éå¸¸çš„æ…¢ï¼Œæ‰€ä»¥åœ¨ä¾èµ–å®‰è£…ä¹‹å‰å¯ä»¥æ›´æ¢pipæºï¼Œå¦‚æœä¹‹å‰å·²ç»æ›´æ¢ï¼Œæ­¤å¤„ä¸ç”¨æ‰§è¡Œ:

```VIM
sudo pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
```

Playwrightæµè§ˆå™¨çš„å®‰è£…ï¼š

```CMAKE
playwright install chromium
```

 è‡³æ­¤ï¼ŒçœŸå¯»çš„æ‰€æœ‰çš„ç¯å¢ƒéƒ½å·²ç»é…ç½®å®Œæ¯•ï¼Œå°±å·®æœ€åä¸€æ­¥çš„å¯åŠ¨äº†

3.4 å¯åŠ¨zhenxun_bot

å†æ¬¡å¼ºè°ƒä¸€éï¼Œå¯åŠ¨çœŸå¯»ä¹‹å‰ç¡®å®šä½ è¿›å…¥äº†è™šæ‹Ÿç¯å¢ƒï¼Œæœ‰å…³è™šæ‹Ÿç¯å¢ƒçš„è¿›å…¥ï¼ˆå‚çœ‹3.3ï¼‰

å…ˆè¿›å…¥è™šæ‹Ÿç¯å¢ƒï¼Œå†è¿è¡ŒçœŸå¯»ï¼š

```SHELL
cd ~/zhenxun_bot && poetry shell
cd ~/zhenxun_bot && python3 bot.py
```

ç°åœ¨å°†ä½ çš„Boté‚€è¯·åˆ°ä»»æ„ç¾¤èŠå³å¯æ„‰å¿«çš„ç©è€äº†ï¼Œå‘é€â€œè¯¦ç»†å¸®åŠ©â€å°±å¯ä»¥çœ‹å½“å‰Botæ‰€æœ‰çš„åŠŸèƒ½äº†~

{% endfolding %}

# äºŒã€åœ¨Windowsä½¿ç”¨{% span red,VMwareè™šæ‹Ÿæœº %}å®‰è£…

## 2.1 VMwareè™šæ‹Ÿæœºå®‰è£…

### 2.1.1 å®‰è£…VMwareè™šæ‹Ÿæœºè½¯ä»¶

æœ¬æ•™ç¨‹ä½¿ç”¨çš„è™šæ‹Ÿæœºè½¯ä»¶ä¸ºï¼ŒVMware Workstation 16 Proï¼Œå¯å‰å¾€[å®˜ç½‘](https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html)ä¸‹è½½ï¼Œä¸‹è½½å®‰è£…åä¼šæœ‰1ä¸ªæœˆè¯•ç”¨æœŸã€‚ä¹Ÿå¯ä½¿ç”¨æˆ‘æä¾›çš„å®‰è£…èµ„æºï¼ˆé™„åœ¨æ–‡æœ«ï¼‰ã€‚

### 2.1.2 ä¸‹è½½ç³»ç»Ÿé•œåƒ

æœ¬æ•™ç¨‹ä½¿ç”¨çš„ç³»ç»Ÿé•œåƒä¸ºUbuntu 20.04 LTSï¼ˆå¯ä»¥é€‚å½“ä½¿ç”¨Ubuntu 20 è¾ƒé«˜ç‰ˆæœ¬ï¼‰ï¼Œå¯ä»¥å»[å®˜ç½‘](https://cn.ubuntu.com/download/desktop)ä¸‹è½½ï¼Œä¹Ÿå¯ä½¿ç”¨æˆ‘æä¾›çš„å®‰è£…èµ„æºã€‚

### 2.1.3 å®‰è£…Ubuntuè™šæ‹Ÿæœº

{% folding bule ,å®‰è£…æ•™ç¨‹ %}

1. æ‰“å¼€å®‰è£…å¥½çš„VMï¼Œé€‰æ‹©åˆ›å»ºæ–°çš„è™šæ‹Ÿæœº
![æ­¥éª¤1](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/1.png "step 1")

2. é€‰æ‹©è‡ªå®šä¹‰ï¼ˆé«˜çº§ï¼‰å¹¶å•å‡»ä¸‹ä¸€æ­¥
![æ­¥éª¤2](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/2.png "step 2")

3. è¿™ä¸ªç•Œé¢ä¸éœ€è¦æ›´æ”¹ï¼Œç›´æ¥å•å‡»ä¸‹ä¸€æ­¥
![æ­¥éª¤3](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/3.png "step 3")

4. é€‰æ‹©ç¨åå®‰è£…æ“ä½œç³»ç»Ÿï¼Œä¹‹åå•å‡»ä¸‹ä¸€æ­¥
![æ­¥éª¤4](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/4.png "step 4")

5. é€‰æ‹©å®¢æˆ·æœºæ“ä½œç³»ç»Ÿä¸ºlinuxï¼Œç‰ˆæœ¬é€‰æ‹©ä½ ä¸‹è½½çš„Ubuntu 20.04 LTSé•œåƒç›¸å¯¹åº”çš„ç‰ˆæœ¬ï¼Œæˆ‘ä¸‹è½½çš„æ˜¯64ä½çš„ï¼Œæ‰€ä»¥é€‰æ‹©çš„æ˜¯64ä½çš„
![æ­¥éª¤5](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/5.png "step 5")

6. ä¸Šé¢é‚£ä¸€æ è‡ªå®šä¹‰ä½ è¦å®‰è£…çš„è™šæ‹Ÿæœºçš„åç§°ï¼Œä¸‹é¢é‚£ä¸€æ æ˜¯å®‰è£…ä½ç½®ï¼Œé»˜è®¤ä½ç½®ä¸ºï¼šC:\Users\ä½ çš„ç”µè„‘ç”¨æˆ·åç§°\Documents\Virtual Machines
![æ­¥éª¤6](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/6.png "step 6")

7. è¿™ä¸ªç•Œé¢è®¾ç½®è®¾ç½®åœ¨è™šæ‹Ÿæœºå†…è™šæ‹Ÿçš„å¤„ç†å™¨ï¼ˆCPUï¼‰çš„æ•°é‡ä¸å•ä¸ªå¤„ç†å™¨çš„æ ¸å¿ƒæ•°é‡ï¼Œé»˜è®¤ä¸º2ä¸ªCPUï¼Œå•ä¸ªCPUåªæœ‰1æ ¸ã€‚æˆ‘è®¾ç½®çš„æ˜¯1ä¸ªCPUï¼Œ4ä¸ªæ ¸å¿ƒï¼Œå…·ä½“å¯è§†è‡ªå·±æƒ…å†µè€Œå®šã€‚
![æ­¥éª¤7](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/7.png "step 7")

8. è®¾ç½®åˆ†é…ç»™è™šæ‹Ÿæœºçš„å†…å­˜å¤§å°ï¼Œä¾ä¸»æœºå†…å­˜å¤§å°ä¸åŒï¼Œå…¶æ¨èå†…å­˜å¤§å°ä¸åŒï¼Œå»ºè®®åˆ†é…æ¨èå†…å­˜å¤§å°
![æ­¥éª¤8](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/8.png "step 8")

9. æ­¤é¡µé¢è®¾ç½®ä¸ºè™šæ‹Ÿæœºæ·»åŠ çš„ç½‘ç»œè¿æ¥ç±»å‹ï¼Œå¦‚æœä¸æ¸…æ¥šçš„è¯ï¼Œä¸ç”¨æ›´æ”¹ï¼Œç›´æ¥ç‚¹å‡»ä¸‹ä¸€æ­¥
![æ­¥éª¤9](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/9.png "step 9")

10. è®¾ç½®I/Oæ§åˆ¶å™¨ç±»å‹ï¼Œä¸ç”¨æ›´æ”¹ï¼Œç›´æ¥ä½¿ç”¨æ¨èç±»å‹å³å¯
![æ­¥éª¤10](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/10.png "step 10")

11. è®¾ç½®ä¸ºè™šæ‹Ÿæœºåˆ›å»ºçš„è™šæ‹Ÿç£ç›˜ç±»å‹ï¼Œäº¦å¯ç›´æ¥ä½¿ç”¨æ¨èç±»å‹
![æ­¥éª¤11](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/11.png "step 11")

12. è¿™ä¸ªä¾è‡ªå·±è€Œå®šï¼Œå¯¹å°ç™½ï¼Œæˆ‘æ¨èé€‰æ‹©åˆ›å»ºæ–°çš„è™šæ‹Ÿç£ç›˜
![æ­¥éª¤12](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/12.png "step 12")

13. ä¸ºè™šæ‹Ÿæœºåˆ†é…å­˜å‚¨ç©ºé—´ï¼Œå¦‚æœå›¾ç®€ä¾¿å¯ç›´æ¥å•å‡»ä¸‹ä¸€æ­¥
![æ­¥éª¤13](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/13.png "step 13")

14. ä¸ç”¨æ›´æ”¹ï¼Œç›´æ¥å•å‡»ä¸‹ä¸€æ­¥å³å¯
![æ­¥éª¤14](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/14.png "step 14")

15. åœ¨è¿™ä¸ªé¡µé¢ï¼Œå•å‡»è‡ªå®šä¹‰ç¡¬ä»¶
![æ­¥éª¤15](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/15.png "step 15")

16. å•å‡»â€œæ–°CD/DVDâ€é€‰é¡¹
![æ­¥éª¤16](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/16.png "step 16")

17. åœ¨è¿æ¥ä¸€æ é€‰æ‹©ä½¿ç”¨ISOæ˜ åƒæ–‡ä»¶ï¼Œå†å•å‡»æµè§ˆï¼Œé€‰æ‹©ä½ ä¸‹è½½å¥½çš„Ubuntuæ˜ åƒæ–‡ä»¶ï¼Œå†ç‚¹å‡»æ‰“å¼€å³å¯ã€‚ï¼ˆå¦‚æœç”¨ä¸åˆ°è®¾å¤‡ä¸­çš„æ‰“å°æœºï¼Œæ¨èå°†å…¶ç§»é™¤ï¼‰ä¹‹åç‚¹å‡»å…³é—­ï¼Œå°±ä¼šå›åˆ°ç¬¬15æ­¥çš„é¡µé¢ã€‚
![æ­¥éª¤17](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/17.png "step 17")

18. ç‚¹å‡»å®Œæˆï¼ŒVMä¼šè‡ªåŠ¨åˆ›å»ºå®¢æˆ·æœºï¼ˆæˆ–è®¸ä¼šè‡ªåŠ¨å¼€å¯ï¼‰
![æ­¥éª¤18](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/18.png "step 18")

19. ç‚¹å‡»å¼€å¯æ­¤è™šæ‹Ÿæœºï¼ŒVMä¼šå¯åŠ¨æ­¤è™šæ‹Ÿæœºï¼Œä¹‹åä¼šè‡ªåŠ¨è¿›å…¥å®‰è£…ç•Œé¢
![æ­¥éª¤19](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/19.png "step 19")

20. ä¹‹åå‡ºç°è¿™ä¸ªç•Œé¢ï¼Œåœ¨è¿™ä¸ªç•Œé¢è¯·è€å¿ƒç­‰å¾…åŠ è½½
![æ­¥éª¤20](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/20.png "step 20")

21. åŠ è½½å®Œæˆåå‡ºç°å¦‚ä¸‹ç•Œé¢ï¼Œè¿™æ˜¯å®‰è£…ç•Œé¢ï¼Œé€‰æ‹©ç³»ç»Ÿè¯­è¨€ï¼Œæ¨èé€‰æ‹©è‹±è¯­ï¼Œå†ç‚¹å‡»Install ubuntu
![æ­¥éª¤21](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/21.png "step 21")

22. é€‰æ‹©é”®ç›˜å¸ƒå±€è¯­è¨€ï¼Œæ¨èé€‰æ‹©è‹±è¯­
![æ­¥éª¤22](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/22.png "step 22")

23. æ¨èé€‰æ‹©minimal installationï¼Œå…¶ä»–å¯ä»¥ä¸ç”¨æ›´æ”¹
![æ­¥éª¤23](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/23.png "step 23")

24. å¯ä¸ç”¨æ›´æ”¹ä»»ä½•é€‰é¡¹ï¼Œç›´æ¥ç‚¹å‡»install nowï¼Œå¼¹å‡ºçš„ä¸‹ä¸€ä¸ªç•Œé¢äº¦ä¸ç”¨ç®¡ï¼Œç›´æ¥ä¸‹ä¸€æ­¥å³å¯
![æ­¥éª¤24](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/24.png "step 24")

25. é€‰æ‹©ä½ çš„åœ°åŒºï¼Œé€‰æ‹©ä¸Šæµ·å³å¯
![æ­¥éª¤25](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/25.png "step 25")

26. è®¾ç½®ä½ çš„è´¦æˆ·åç§°ï¼Œå¯†ç ç­‰ï¼Œè®¾ç½®å¥½åï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œè‡ªåŠ¨å®‰è£…ï¼Œæ­¤è¿‡ç¨‹è€—æ—¶è¾ƒé•¿ï¼Œè¯·è€å¿ƒç­‰å¾…
![æ­¥éª¤26](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/26.png "step 26")

27. é‡å¯è™šæ‹Ÿæœºå³å¯å®‰è£…å®Œæˆ
![æ­¥éª¤27](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/27.png "step 27")

28. é‡å¯å®Œæˆï¼Œè¾“å…¥å¯†ç ç™»å½•åï¼Œå¼¹å‡ºçš„ä¸€ç³»åˆ—çª—å£éƒ½å¯ä»¥ä¸ç”¨ç®¡ï¼Œç›´æ¥skipæˆ–nextå³å¯ã€‚ä¹‹åä¼šå¼¹å‡ºsoftware updateçª—å£ï¼Œè¯·å…ˆæ›´æ–°ï¼Œå¾…æ›´æ–°å®Œæˆåé‡å¯å³å¯

{% endfolding %}

### 2.1.4 å®‰è£…è¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°çš„é—®é¢˜

1. Ubuntuå®‰è£…è¿‡ç¨‹ä¸­å‡ºç°è“å±ï¼Œå¡æ­»ç­‰æƒ…å†µï¼Œè€Œä¸”é‡å¯ç”µè„‘åå†æ¬¡å®‰è£…ä¾ç„¶å‡ºç°è¿™ä¸ªé—®é¢˜ï¼š
æˆ‘çš„ç”µè„‘å°±å‡ºç°è¿‡è¿™ç§é—®é¢˜ï¼Œè¿™ä¸ªæˆ–è®¸æ˜¯å› ä¸ºwslæ²¡æœ‰å¼€å¯ï¼Œå»ºè®®å¼€å¯Windowsçš„wslåå†å°è¯•å®‰è£…ï¼Œæˆ–è®¸èƒ½è§£å†³ï¼ˆæˆ‘çš„æ˜¯ä½¿ç”¨è¿™ä¸ªæ–¹æ³•è§£å†³äº†ï¼Œå…¶ä»–çš„ä¸æ¸…æ¥šï¼‰ã€‚åˆ«é—®æˆ‘ä¸ºå•¥ä¸ç›´æ¥ç”¨wsléƒ¨ç½²ï¼Œé—®å°±æ˜¯æ•´ä¸æ¥ï¼Œä¹Ÿæ²¡æ‰¾åˆ°å…·ä½“æ•™ç¨‹ã€‚

2. åœ¨é€‰æ‹©é”®ç›˜è¯­è¨€æ ¼å¼æ—¶ï¼Œé€‰æ‹©ä¸­æ–‡åå‘ç°ä¸‹ä¸€æ­¥ç­‰é€‰é¡¹ä¸è§äº†ï¼š
è¿™ä¸ªæˆ‘ä¹Ÿé‡åˆ°è¿‡ï¼Œä¸è¿‡å’±ä¹Ÿæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«å¥½çš„è§£å†³æ–¹æ³•ï¼ŒåªçŸ¥é“é€‰æ‹©è‹±è¯­å¤§æ¦‚ç‡ä¸ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Œæ‰€ä»¥æˆ‘æ¨èé€‰æ‹©è‹±è¯­ã€‚

3. å®‰è£…Ubuntuæ—¶å¥½æ…¢å‘ï¼Œæœ‰ä»€ä¹ˆåŠæ³•èƒ½æé«˜è®¿é—®é€Ÿåº¦å—ï¼š
å› ä¸ºUbuntuçš„å®˜æ–¹æœåŠ¡å™¨åœ¨å›½å¤–ï¼Œæ‰€ä»¥å®‰è£…å¾—å¾ˆæ…¢æ˜¯ååˆ†æ­£å¸¸çš„ï¼Œå¯ä»¥è¯•è¯•åœ¨ä½ çš„ç”µè„‘ä¸ŠæŒ‚ä¸ªæ¢¯å­ï¼Œå¼€å…¨å±€ä»£ç†ï¼Œæˆ–è®¸é€Ÿåº¦ä¼šå¿«å¾ˆå¤šã€‚

4. å®‰è£…è¿‡ç¨‹ç¬¬28æ­¥æåˆ°äº†software updateï¼Œå¯ä¸å¯ä»¥ä¸ç”¨æ›´æ–°ï¼š
è¿›è¡Œsoftware updateæ˜¯ä¸ºäº†èƒ½é¡ºåˆ©æ›´æ”¹é•œåƒæºï¼Œéœ€å®Œæˆæ›´æ–°åæ–¹å¯è¿›å…¥æ›´æ”¹é•œåƒæºçš„è®¾ç½®ã€‚å…³äºæ›´æ”¹é•œåƒæºæœ‰ä½•ä½œç”¨ï¼Œåœ¨åé¢çš„å®‰è£…è¿‡ç¨‹ä¼šæåŠï¼Œæ­¤å¤„ä¸å¤šèµ˜è¿°ã€‚

{% folding bule , wslå¼€å¯æ–¹æ³• %}

1. ç‚¹å‡»ä»»åŠ¡æ çš„Windowså›¾æ ‡ï¼Œåœ¨æœç´¢æ¡†ä¸­è¾“å…¥â€œå¯ç”¨â€/â€œå¯ç”¨æˆ–å…³é—­windowsåŠŸèƒ½â€ï¼Œç„¶åé€‰æ‹©â€œå¯ç”¨æˆ–å…³é—­windowsåŠŸèƒ½â€
![wsl1](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/wsl1.png " wsl 1")

2. åœ¨å¼¹å‡ºçš„çª—å£ä¸­ç¿»æ‰¾é€‰é¡¹â€œé€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿâ€
![wsl2](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/wsl2.png " wsl 2 ")

3. å‹¾é€‰â€œé€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿâ€é€‰é¡¹ï¼Œç‚¹å‡»ç¡®å®šåé‡å¯ç”µè„‘å³å¯
![wsl3](https//cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/wsl3.png " wsl 3 ")

{% endfolding %}

## 2.2 python ä¸ ffmpeg ç­‰å‰ç½®ç»„ä»¶å®‰è£…

ä»æœ€å¼€å§‹çš„çº¯å‡€çš„**Ubuntu20.04**ç³»ç»Ÿå¼€å§‹éƒ¨ç½²ï¼Œ**Ubuntu20.04**è‡ªå¸¦æœ‰**python3.8.10**æ‰€ä»¥é¿å…äº†ä¸å¤ªå‹å¥½çš„**python3.8**æˆ–è€…**python3.9**çš„å®‰è£…ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æ˜¯åˆ«çš„ç³»ç»Ÿï¼Œä¹Ÿå¯ä»¥ç™¾åº¦æœç´¢ ã€{ä½ çš„ç³»ç»Ÿå’Œç‰ˆæœ¬}**python3.8**å®‰è£…ã€‘ã€‚æ‰€ä»¥ä¸ºäº†é¿å…ä¸€ç³»åˆ—å› ä¸ºç³»ç»Ÿä¸ç›¸åŒè€Œå¯¼è‡´çš„é—®é¢˜ï¼Œæ¨èä½¿ç”¨çº¯å‡€çš„**Ubuntu20.04**ç³»ç»Ÿéƒ¨ç½²çœŸå¯»ã€‚

é¦–å…ˆï¼Œåœ¨Ubuntuæ¡Œé¢ï¼Œä½¿ç”¨å¿«æ·é”®ï¼šCTRL+ALT+Tå¯ä»¥terminalç»ˆç«¯ï¼Œä»è€Œè¿›è¡Œå‘½ä»¤è¡Œçš„è¾“å…¥ã€‚

ç„¶åä¾æ¬¡æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤

å› zhenxun_boté¡¹ç›®ä½¿ç”¨äº†è¯­éŸ³æ–‡ä»¶ç­‰ï¼Œè¯¥éŸ³é¢‘éœ€è¦ä¾èµ–ffmpeg

```SHELL
 sudo apt update && sudo apt install -y wget git screen ffmpeg # å®‰è£…ffmpeg
```

```SHELL
 sudo apt update && sudo apt install -y python3-pip # å®‰è£…pip
```

{% note info flat %}å®‰è£…pipåï¼Œå¦‚æœè§‰å¾—ä½¿ç”¨pipä¸‹è½½poetryå¤ªæ…¢çš„è¯ï¼Œå¯ä»¥è¯•è¯•æ¢åˆ°æ¸…åæºï¼ˆæ³¨æ„è¦æŠŠpipå®‰è£…å®Œæˆåå†æ¢æºï¼‰{% endnote %}

```SHELL
 sudo pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple 
```

æ–°ç‰ˆçœŸå¯»ä½¿ç”¨çš„{% bubble poetry , æ–°ç‰ˆçœŸå¯»å°†ä¾èµ–å®‰è£…åœ¨poetryè™šæ‹Ÿç¯å¢ƒé‡Œï¼Œåœ¨ç¯å¢ƒé…ç½®å‡ºç°é”™è¯¯æ—¶åªéœ€åˆ é™¤å¯¹åº”çš„poetryåŒ…å³å¯ï¼Œä¸éœ€è¦å›æ»šç³»ç»Ÿ ,blue %}è™šæ‹Ÿç¯å¢ƒå®‰è£…ï¼Œæ‰€ä»¥éœ€è¦å®‰è£…poetryï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š

```SHELL
sudo pip install poetry # å®‰è£…poetry
```

## 2.3 PostgreSQLæ•°æ®åº“çš„å®‰è£…

æ®äº†è§£ PostgreSQL æ•°æ®åº“çš„ç‰ˆæœ¬åœ¨9.0ä»¥ä¸Šå³å¯ï¼Œç‰ˆæœ¬çš„ä¸åŒå¹¶ä¸ä¼šå¯¹çœŸå¯»çš„è¿è¡Œé€ æˆå½±å“ï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨çš„æ˜¯PostgreSQL12ï¼Œä»¥ä¸‹å‘½ä»¤æ³¨æ„è¦ä¸€è¡Œä¸€è¡Œè¿è¡Œ.

PostgreSQLå®‰è£…å‘½ä»¤ï¼š

```SHELL
sudo apt update && sudo apt install -y postgresql postgresql-contrib
```

```SHELL
sudo su - postgres
psql
CREATE USER zhenxun WITH PASSWORD 'zxpassword'; # åˆ›å»ºä¸€ä¸ªç”¨æˆ·â€œzhenxunâ€ï¼Œç”¨æˆ·å¯†ç ä¸ºâ€œzxpasswordâ€
CREATE DATABASE zhenxun OWNER zhenxun; # ä¸ºç”¨æˆ·â€œzhenxunâ€åˆ›å»ºä¸€ä¸ªæ•°æ®åº“â€œzhenxunâ€
exit;
exit
```

exitå‘½ä»¤éœ€è¦è¿è¡Œä¸¤æ¬¡æ¥é€€å‡ºæ•°æ®åº“

## 2.4 ä¸€äº›å¿…è¦çš„ä¾èµ–

çœŸå¯»è¿è¡Œæ‰€éœ€è¦çš„çš„ç³»ç»Ÿç›¸å…³ä¾èµ–çš„å®‰è£…ï¼š

```SHELL
sudo apt install -y \
    libgl1 \
    libglib2.0-0 \
    libnss3 \
    libatk1.0-0 \
    libatk-bridge2.0-0 \
    libcups2 \
    libxkbcommon0 \
    libxcomposite1 \
    libxrandr2 \
    libgbm1 \
    libgtk-3-0 \
    libasound2  
    # æ•´æ®µå¤åˆ¶è¿è¡Œ
```

Ubuntuå®‰è£…ä¸­æ–‡å­—ä½“

```SHELL
sudo apt-get install -y ttf-wqy-zenhei ttf-wqy-microhei fonts-arphic-ukai fonts-arphic-uming
sudo fc-cache -f -v
```

{% note warning flat %}æ–°ç‰ˆQQä½¿ç”¨go-cqhttpè¢«bané£é™©æå¤§ï¼Œæœ¬æ•™ç¨‹å·²å¼ƒç”¨, è¯·ä½¿ç”¨å…¶ä»–æ— å¤´QQå¦‚[NapCat](https://napneko.github.io/zh-CN/)ç­‰{% endnote %}

# ä¸‰ã€go-cqhttpçš„å®‰è£…

go-cqhttpçš„ç®€è¦è¯´æ˜ï¼š
go-cqhttpæ˜¯ä½¿ç”¨OneBotåè®®å®ç°çš„æ— å¤´QQï¼Œæ¥å—æ¶ˆæ¯å‘å¾€åç«¯å¤„ç†ï¼Œè¯¦ç»†å‚è§[é¡¹ç›®åœ°å€](https://github.com/Mrs4s/go-cqhttp)

## 3.1 ä¸‹è½½go-cqhttp

ä¸‹è½½go-cqhttpéœ€è¦wgetç»„ä»¶ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…ï¼š

```SHELL
sudo apt install -y wget
```

å†è£…go-cqhttpï¼Œæ•´æ®µå¤åˆ¶ï¼š

```SHELL
mkdir ~/go-cqhttp && \
    cd ~/go-cqhttp && \
    wget https://github.com/Mrs4s/go-cqhttp/releases/download/v1.0.1/go-cqhttp_linux_amd64.tar.gz -O go-cqhttp_linux_amd64.tar.gz && \
    tar -zxvf go-cqhttp_linux_amd64.tar.gz
```

go-cqhttp çš„ç‰ˆæœ¬å¯è‡ªå·±è°ƒèŠ‚ï¼Œæ­¤å¤„ä½¿ç”¨çš„æ˜¯v1.0.1

## 3.2  ä¿®æ”¹ç›¸å…³é…ç½®

è¿è¡Œä¸€æ¬¡go-cqhttp

```SHELL
cd ~/go-cqhttp && echo -e "3\n" | ./go-cqhttp
```

é¦–æ¬¡è¿è¡Œä¼šå‡ºç°ä»¥ä¸‹ç•Œé¢
![go-cqhttp](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/28.png " go-cqhttp ")

ä¹‹åè¾“å…¥å‘½ä»¤ä¿®æ”¹é…ç½®

```SHELL
sudo sed -i 's|universal:.*|universal: ws://localhost:8084/onebot/v11/ws|g' config.yml
```

æˆ–è€…ä¿®æ”¹/root/go-cqhttp/config.ymlï¼Œå°†universalå‚æ•°æ”¹æˆws://127.0.0.1:8080/onebot/v11/ws/å¹¶ä¿å­˜

## 3.3  go-cqhttpçš„æŒä¹…åŒ–è¿è¡Œ

æŒä¹…åŒ–è¿è¡Œgo-cqhttpï¼Œæ¨èä½¿ç”¨screenï¼Œæ–¹ä¾¿ç®¡ç†é€‚åˆæ–°æ‰‹ï¼Œscreençš„å®‰è£…å‘½ä»¤ï¼š

```SHELL
sudo apt install -y screen
```

å®‰è£…å®Œæˆä»¥ååˆ›å»ºscreenå¹¶è¿›å…¥ï¼š

```SHELL
screen -S go-cqhttp 
```

åœ¨é‡æ–°å‡ºç°çš„shellç•Œé¢ï¼Œè¿è¡Œgo-cqhttpå¹¶æ‰«æäºŒç»´ç ç™»é™†botçš„qqï¼Œå¾…å‘½ï¼š
æ³¨ï¼šå»ºè®®åœ¨æ‰§è¡Œæ­¤æ¡å‘½ä»¤å‰å…ˆå°†ç»ˆç«¯è°ƒè‡³å…¨å±

```SHELL
cd ~/go-cqhttp && echo -e "3\n" | ./go-cqhttp -faststart
```

ä¹‹åå‡ºç°äºŒç»´ç ä»¥åï¼Œæ‰«ç ç™»é™†
![äºŒç»´ç ](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/29.png " äºŒç»´ç  ")

ä¹‹åå‡ºç°ä»¥ä¸‹ä¿¡æ¯ä¸ºæ­£å¸¸ç™»é™†æˆåŠŸï¼Œç„¶åä½¿ç”¨ Ctrl + A + D ç»„åˆé”®é€€å‡ºscreen
æ³¨ï¼šä½¿ç”¨ Ctrl + A + D ç»„åˆé”®é€€å‡ºscreenï¼Œscreenå¹¶æœªå®Œå…¨é€€å‡ºï¼Œä»åœ¨åå°è¿è¡Œgo-cqhttpï¼Œè¯·ä¸è¦å°è¯•å¼ºåˆ¶é˜»æ­¢å…¶è¿è¡Œï¼Œå¦åˆ™ä¼šå¯¼è‡´botæ— æ³•æ­£å¸¸å¯åŠ¨
![yunxin](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/30.png  " yunxing ")

è‡³æ­¤ï¼Œgo-cqhttpçš„éƒ¨ç½²å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥ä¾¿æ˜¯çœŸå¯»æœ¬ä½“çš„éƒ¨ç½²

# å››ã€zhenxun_botçš„éƒ¨ç½²

## 4.1 ä¸‹è½½zhenxun_botæºç 

ä½¿ç”¨gitå‘½ä»¤ä¸‹è½½çœŸå¯»æºç ï¼Œéœ€è¦å…ˆè¡Œå®‰è£…gitï¼Œè¿è¡Œï¼š

```SHELL
sudo apt install -y git
```

git cloneçœŸå¯»æºç ï¼Œå³ä¸‹è½½çœŸå¯»æºç ï¼š

```SHELL
cd && git clone https://ghproxy.com/github.com/HibiKier/zhenxun_bot.git
```

## 4.2 ä¿®æ”¹ç›¸å…³é…ç½®

ä¿®æ”¹botç®¡ç†å‘˜è´¦å·ï¼Œå°†ä½ è‡ªå·±çš„qqè´¦å·æ”¹æˆä½ å¸Œæœ›ç”¨æ¥ç®¡ç†ä½ botçš„qqï¼š

```SHELL
cd ~/zhenxun_bot && sed -i 's/SUPERUSERS.*/SUPERUSERS=["ä½ è‡ªå·±çš„qqè´¦å·"]/g' .env.dev
```

ä¿®æ”¹æ•°æ®åº“è¿æ¥å‘½ä»¤ï¼Œå¦‚æœä½ æ²¡å¯¹ä¸Šé¢æ•°æ®åº“çš„åˆ›å»ºå‘½ä»¤ä½œå‡ºä¿®æ”¹ç›´æ¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```SHELL
sed -i 's|bind.*|bind: str = "postgres://zhenxun:zxpassword@localhost:5432/zhenxun"|g' configs/config.py
```

## 4.3 è™šæ‹Ÿç¯å¢ƒçš„é…ç½®

æœ‰å¾ˆå¤šäººçš„é—®é¢˜éƒ½æ˜¯å‡ºåœ¨äº†è¿™é‡Œï¼Œzhenxun_botå¿…é¡»åœ¨poetryä¸­è¿è¡Œï¼Œè¿™æ˜¯ä¸å¯ç¼ºå°‘çš„ä¸€ç¯

é¦–å…ˆï¼Œä½ å¾—è¿›å…¥è™šæ‹Ÿç¯å¢ƒï¼š

```BASH
cd ~/zhenxun_bot && poetry shell
```

ä¹‹åä¾¿æ˜¯çœŸå¯»çš„{% bubble ç›¸å…³ä¾èµ–çš„å®‰è£… , "å»ºè®®ä¹‹åæ·»åŠ æ’ä»¶å®‰è£…ç›¸å…³ä¾èµ–æ—¶å‡åœ¨è™šæ‹Ÿç¯å¢ƒå®‰è£…" ,"#66ccff" %}ï¼Œä½¿ç”¨å‘½ä»¤ï¼š

```CMAKE
poetry install
```

å¦‚æœæ˜¯å›½å†…æœºå™¨ï¼Œä¸æ›´æ¢pipçš„æºçš„è¯ä¼šæ„Ÿè§‰éå¸¸çš„æ…¢ï¼Œæ‰€ä»¥åœ¨ä¾èµ–å®‰è£…ä¹‹å‰å¯ä»¥æ›´æ¢pipæºï¼Œå¦‚æœä¹‹å‰å·²ç»æ›´æ¢ï¼Œæ­¤å¤„ä¸ç”¨æ‰§è¡Œ:

```VIM
sudo pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
```

Playwrightæµè§ˆå™¨çš„å®‰è£…ï¼š

```CMAKE
playwright install chromium
```

å¦‚æœä¸æƒ³å¯åŠ¨åä¸‹è½½ä¸€å¤§å †èµ„æºï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä¸‹è½½ç›¸å…³èµ„æº
æ•´æ®µå¤åˆ¶è¿è¡Œ

```SHELL
SOURCE_URL=https://pan.yropo.top/source/zhenxun/
wget ${SOURCE_URL}data_draw_card.tar.gz -qO ~/.cache/data_draw_card.tar.gz \
    && wget ${SOURCE_URL}img_draw_card.tar.gz -qO ~/.cache/img_draw_card.tar.gz \
    && tar -zxvf ~/.cache/data_draw_card.tar.gz -C ~/zhenxun_bot/ \
    && tar -zxvf ~/.cache/img_draw_card.tar.gz -C ~/zhenxun_bot/ \
    && rm -rf ~/.cache/*.tar.gz
```

 è‡³æ­¤ï¼ŒçœŸå¯»çš„æ‰€æœ‰çš„ç¯å¢ƒéƒ½å·²ç»é…ç½®å®Œæ¯•ï¼Œå°±å·®æœ€åä¸€æ­¥çš„å¯åŠ¨äº†

3.4 å¯åŠ¨zhenxun_bot

å†æ¬¡å¼ºè°ƒä¸€éï¼Œå¯åŠ¨çœŸå¯»ä¹‹å‰ç¡®å®šä½ è¿›å…¥äº†è™šæ‹Ÿç¯å¢ƒï¼Œæœ‰å…³è™šæ‹Ÿç¯å¢ƒçš„è¿›å…¥ï¼ˆå‚çœ‹3.3ï¼‰

å½“ç„¶ï¼Œå¯åŠ¨ä¹‹å‰æˆ‘ä»¬å¾—è®©çœŸå¯»ä¸€ç›´è·‘ç€ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç”¨åˆ°screenæ¥è®©çœŸå¯»æŒä¹…åŒ–è¿è¡Œ

```SHELL
screen -S zhenxun
```

ç„¶åå…ˆè¿›å…¥è™šæ‹Ÿç¯å¢ƒï¼Œå†è¿è¡ŒçœŸå¯»ï¼š

```SHELL
cd ~/zhenxun_bot && poetry shell
cd ~/zhenxun_bot && python3 bot.py
```

æŒ‰Ctrl+A+Dç»„åˆé”®æŒ‚èµ·screen
ç°åœ¨å°†ä½ çš„Boté‚€è¯·åˆ°ä»»æ„ç¾¤èŠå³å¯æ„‰å¿«çš„ç©è€äº†ï¼Œå‘é€â€œè¯¦ç»†å¸®åŠ©â€å°±å¯ä»¥çœ‹å½“å‰Botæ‰€æœ‰çš„åŠŸèƒ½äº†~

## 4.5 ç®¡ç†ç›¸å…³

çœŸå¯»çš„å®‰è£…ç›®å½•ä½äº ~/zhenxun_bot ä¸‹

go-cqhttpçš„å®‰è£…ç›®å½•ä½äº ~/go-cqhttp ä¸‹

è¿›å…¥çœŸå¯»çš„screenç•Œé¢å‘½ä»¤ï¼š

```SHELL
screen -r zhenxun
screen -X -S zhenxun quit #å¼ºåˆ¶ç»“æŸzhenxunçª—å£
```

è¿›å…¥go-cqhttpç•Œé¢çš„å‘½ä»¤ï¼š

```SHELL
screen -r go-cqhttp
screen -X -S go-cqhttp quit #å¼ºåˆ¶ç»“æŸgo-cqhttpçª—å£
```

## 4.6 æ‚ä¸ƒæ‚å…«çš„é”™è¯¯

1. åå‘é“¾æ¥å¤±è´¥
![fanxiang](https://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/fx.png " fx ")

å¦‚æœè¿è¡Œbotåæç¤ºåå‘é“¾æ¥å¤±è´¥ï¼Œè¯´æ˜go-cqhttpé…ç½®é”™äº†ï¼Œä»”ç»†æ£€æŸ¥

2. æç¤ºæ›´æ”¹è®¾ç½®åè‡ªåŠ¨é€€å‡º

ç¬¬ä¸€æ¬¡è¿è¡Œå¯èƒ½ä¼šæç¤ºä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œå¯ä»¥ä¿®æ”¹/root/zhenxun_bot/configs/config.yamlï¼Œå†…å®¹è‡ªå®šï¼Œä¹Ÿå¯ä»¥ä¸ä¿®æ”¹ç›´æ¥å†æ¬¡è¿è¡Œå‘½ä»¤python3 bot.pyå¯åŠ¨bot

3. å…³é—­botåå¦‚ä½•é‡æ–°å¯åŠ¨

å¦‚æœæ˜¯åœ¨terminalç»ˆç«¯ç•Œé¢ä½¿ç”¨ CTRL + C é€€å‡ºäº†botè¿è¡Œï¼Œç›´æ¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š

```SHELL
cd ~/zhenxun_bot && python3 bot.py
```

å¦‚æœå·²ç»å…³é—­äº†terminalç»ˆç«¯ï¼Œå†æ¬¡æ‰“å¼€terminalç»ˆç«¯ï¼Œä¸ºå¯åŠ¨botè¯·é€æ¡æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤
ï¼š

```SHELL
screen -S go-cqhttp #åˆ›å»ºscreen
cd ~/go-cqhttp && echo -e "3\n" | ./go-cqhttp -faststart #è¿è¡Œ
```

æŒ‰ä¸‹{% kbd CTRL %} + {% kbd A %} + {% kbd D %} æŒ‚èµ·{% span blue, go-cqhttp %}screenã€‚

```SHELL
screen -S zhenxun #åˆ›å»ºscreen
cd ~/zhenxun_bot && poetry shell #è¿›å…¥è™šæ‹Ÿç¯å¢ƒ
cd ~/zhenxun_bot && python3 bot.py #å¯åŠ¨bot
```

## 4.7 å®‰è£…æ’ä»¶

ç»ªå±±çœŸå¯»Botæä¾›äº†å®˜æ–¹çš„æ’ä»¶åº“ï¼Œ[ç‚¹æ­¤è·³è½¬](https://github.com/zhenxun-org/nonebot_plugins_zhenxun_bot)
![chajian](http://cdn.hatsusakuramiku.cn/hexo/img/post/zhenxun/cj.png " cj ")

å®‰è£…æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œç›´æ¥å°†æ’ä»¶æ–‡ä»¶å¤¹æ‹–åˆ°/root/zhenxun_bot/pluginsç›®å½•ä¸‹ï¼Œç„¶åé‡å¯botå³å¯
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œéƒ¨åˆ†æ’ä»¶éœ€è¦å®‰è£…ä¾èµ–ï¼Œä¹Ÿæœ‰éƒ¨åˆ†æ’ä»¶å­˜åœ¨å…¼å®¹é—®é¢˜æ— æ³•ä½¿ç”¨ï¼Œè‡ªè¡Œç”„åˆ«

æä¸€å¥ï¼Œéœ€è¦å®‰è£…ä¾èµ–çš„æ’ä»¶å…¶ç›®å½•é‡Œä¸€èˆ¬ä¼šæœ‰â€œrequirements.txtâ€ï¼Œè¯·åœ¨æ’ä»¶ä¸‹è½½å®Œæˆåï¼Œæ‰“å¼€æ’ä»¶çš„æ–‡ä»¶å¤¹ï¼Œé¼ æ ‡å³é”®ç‚¹å‡»ç©ºç™½å¤„ï¼Œé€‰æ‹©æ‰“å¼€terminalç»ˆç«¯ï¼Œåœ¨è¿™ä¸ªç»ˆç«¯ä¸­æ‰§è¡Œå®‰è£…ä¾èµ–çš„å‘½ä»¤
å¦åˆ™ä¼šå‡ºé”™ï¼Œæ— æ³•æ­£å¸¸å®‰è£…ä¾èµ–

# {% psw æŠ„çš„ %}å‚è€ƒæ–‡ç« 

1. [é¢†å…»ä¸€åªå¯çˆ±çš„å°çœŸå¯»â€”ç»ªå±±çœŸå¯»Botéƒ¨ç½²æ•™ç¨‹](https://www.smoe.top/2022/03/25/zhenxun-bot-deploy/)--å°å°é»‘

2. [ã€zhenxun_botã€‘å¯çˆ±çš„ç»ªå±±çœŸå¯»Botéƒ¨ç½²æ•™ç¨‹](https://www.smoe.top/2022/03/25/zhenxun-bot-deploy/)--Sakura

# å®‰è£…èµ„æº

1. VMware Workstationï¼šç™¾åº¦ç½‘ç›˜ï¼šé“¾æ¥ï¼š<https://pan.baidu.com/s/1_ACWmWUe7iP5ool-ctz7Gg?pwd=x7h4>

2. Ubuntuï¼šå®˜æ–¹ä¸‹è½½ï¼šUbuntu 20.04.4 LTS (Focal Fossa)
Ubuntu 20.04 LTS desktop x64 [ç£åŠ›é“¾](magnet:?xt=urn:btih:F09C8D0884590088F4004E010A928F8B6178C2FD&dn=ubuntu-20.04.4-desktop-amd64.iso&tr=https%3a%2f%2ftorrent.ubuntu.com%2fannounce&tr=https%3a%2f%2fipv6.torrent.ubuntu.com%2fannounce)
